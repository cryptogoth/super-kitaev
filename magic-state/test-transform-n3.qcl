// Tests whether QFT transforms a magic state into computational basis

include "create.qcl";
include "dft.qcl";

qureg A[3];
int i;

// \psi_{3,0}

CreateMagicState(A, 0);
dump;
// 0.35355 |0> + 0.35355 |1> + 0.35355 |2> + 0.35355 |3> + 0.35355 |4> + 0.35355 |5> + 0.35355 |6> + 0.35355 |7>

dft(A);
dump;
// |0>

!dft(A);
dump;
// 0.35355 |0> + 0.35355 |1> + 0.35355 |2> + 0.35355 |3> + 0.35355 |4> + 0.35355 |5> + 0.35355 |6> + 0.35355 |7>

// \psi_{3,1}
reset;
CreateMagicState(A, 1);
dump;
// 0.35355 |0> + (0.25-0.25i) |1> - 0.35355i |2> + (-0.25-0.25i) |3> - 0.35355 |4> + (-0.25+0.25i) |5> + 0.35355i |6> + (0.25+0.25i) |7>

dft(A);
dump;
// |1>

!dft(A);
dump;
// 0.35355 |0> + (0.25-0.25i) |1> - 0.35355i |2> + (-0.25-0.25i) |3> - 0.35355 |4> + (-0.25+0.25i) |5> + 0.35355i |6> + (0.25+0.25i) |7>

// \psi_{3,2}
reset;
CreateMagicState(A, 2);
dump;
// 0.35355 |0> - 0.35355i |1> - 0.35355 |2> + 0.35355i |3> + 0.35355 |4> - 0.35355i |5> - 0.35355 |6> + 0.35355i |7>

dft(A);
dump;
// |2>

// \psi_{3,3}
reset;
CreateMagicState(A, 3);
dump;
// 0.35355 |0> + (-0.25-0.25i) |1> + 0.35355i |2> + (0.25-0.25i) |3> - 0.35355 |4> + (0.25+0.25i) |5> - 0.35355i |6> + (-0.25+0.25i) |7>

dft(A);
dump;
// |3>

// \psi_{3,4}
reset;
CreateMagicState(A, 4);
dump;
// 0.35355 |0> - 0.35355 |1> + 0.35355 |2> - 0.35355 |3> + 0.35355 |4> - 0.35355 |5> + 0.35355 |6> - 0.35355 |7>

dft(A);
dump;
// |4>

// \psi_{3,5}
reset;
CreateMagicState(A, 5);
dump;
// 0.35355 |0> + (-0.25+0.25i) |1> - 0.35355i |2> + (0.25+0.25i) |3> - 0.35355 |4> + (0.25-0.25i) |5> + 0.35355i |6> + (-0.25-0.25i) |7>

dft(A);
dump;
// |5>

// \psi_{3,6}
reset;
CreateMagicState(A, 6);
dump;
// 0.35355 |0> + 0.35355i |1> - 0.35355 |2> - 0.35355i |3> + 0.35355 |4> + 0.35355i |5> - 0.35355 |6> - 0.35355i |7>

dft(A);
dump;
// |6>

// \psi_{3,7}
reset;
CreateMagicState(A, 7);
dump;
// 0.35355 |0> + (0.25+0.25i) |1> + 0.35355i |2> + (-0.25+0.25i) |3> - 0.35355 |4> + (-0.25-0.25i) |5> - 0.35355i |6> + (0.25-0.25i) |7>

dft(A);
dump;
// |7>


